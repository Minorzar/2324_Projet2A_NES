-- predecode_register.vhdl

library IEEE;
use IEEE.STD_LOGIC_1164.ALL;
use IEEE.NUMERIC_STD.ALL;

entity predecode_register is
	Port ( i_databus : in STD_LOGIC_VECTOR(7 downto 0);
	i_clk : in STD_LOGIC;
	i_clear : in STD_LOGIC;
	o_predecode_buffer : out STD_LOGIC_VECTOR(7 downto 0));
end predecode_register;

architecture Behavioral of predecode_register is
	signal s_predecode_buffer : unsigned(7 downto 0) := (others => '0');
begin
	-- Main process
	process(i_clk, i_clear)
	begin
		if i_clear = '1' then
			-- Reset the buffer in case of an active clear signal
			s_predecode_buffer <= (others => '0');
		elsif rising_edge(i_clk) then
			-- Load the buffer with data from the data bus
			s_predecode_buffer <= unsigned(i_databus);
		end if;
	end process;

	-- Output the buffer
	o_predecode_buffer <= std_logic_vector(s_predecode_buffer);

end Behavioral;
